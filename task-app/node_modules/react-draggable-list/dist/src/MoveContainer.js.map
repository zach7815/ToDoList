{"version":3,"file":"MoveContainer.js","names":["MoveContainer","React","createRef","props","makeDragHandleProps","y","_el","current","_templateContainer","getTemplate","nextProps","anySelected","itemSelected","item","template","height","zIndex","commonProps","padding","position","boxSizing","left","right","top","marginBottom","drag","natural","_dragHandleProps","Component"],"sources":["../../src/MoveContainer.tsx"],"sourcesContent":["import * as React from 'react';\nimport TemplateContainer from './TemplateContainer';\n\nexport interface HeightData {\n  natural: number;\n  drag: number;\n}\n\ninterface Props<I, C, T> {\n  item: I;\n  template: new (props: any, context?: any) => T;\n  padding: number;\n  y: number | undefined;\n  itemSelected: number;\n  anySelected: number;\n  height: HeightData;\n  zIndex: React.CSSProperties['zIndex'];\n  makeDragHandleProps: (getY: () => number | undefined) => object;\n  commonProps: C;\n}\n\nexport default class MoveContainer<\n  I,\n  C,\n  T extends React.Component<any, any>\n> extends React.Component<Props<I, C, T>> {\n  private readonly _templateContainer =\n    React.createRef<TemplateContainer<I, C, T>>();\n  private readonly _el = React.createRef<HTMLDivElement>();\n\n  getDOMNode(): HTMLElement {\n    return this._el.current!;\n  }\n\n  getTemplate(): T {\n    return this._templateContainer.current!.getTemplate();\n  }\n\n  shouldComponentUpdate(nextProps: Props<I, C, T>): boolean {\n    return (\n      this.props.anySelected !== nextProps.anySelected ||\n      this.props.itemSelected !== nextProps.itemSelected ||\n      this.props.item !== nextProps.item ||\n      this.props.template !== nextProps.template ||\n      this.props.y !== nextProps.y ||\n      this.props.height !== nextProps.height ||\n      this.props.zIndex !== nextProps.zIndex ||\n      this.props.commonProps !== nextProps.commonProps\n    );\n  }\n\n  private _dragHandleProps = this.props.makeDragHandleProps(() => this.props.y);\n\n  render() {\n    const {\n      item,\n      y,\n      padding,\n      itemSelected,\n      anySelected,\n      height,\n      zIndex,\n      template,\n      commonProps,\n    } = this.props;\n\n    return (\n      <div\n        ref={this._el}\n        style={{\n          position: y == null ? ('relative' as const) : ('absolute' as const),\n          boxSizing: 'border-box' as const,\n          left: '0px',\n          right: '0px',\n          top: y == null ? '0px' : `${y}px`,\n          marginBottom: `${padding}px`,\n          height:\n            y == null\n              ? 'auto'\n              : `${\n                  anySelected * (height.drag - height.natural) + height.natural\n                }px`,\n          zIndex,\n        }}\n      >\n        <TemplateContainer\n          ref={this._templateContainer}\n          item={item}\n          template={template}\n          itemSelected={itemSelected}\n          anySelected={anySelected}\n          dragHandleProps={this._dragHandleProps}\n          commonProps={commonProps}\n        />\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;IAoBqBA,a;;;;;;;;;;;;;;;wHAMjBC,KAAK,CAACC,SAAN,E;yGACqBD,KAAK,CAACC,SAAN,E;yGAuBI,MAAKC,KAAL,CAAWC,mBAAX,CAA+B;MAAA,OAAM,MAAKD,KAAL,CAAWE,CAAjB;IAAA,CAA/B,C;;;;;;WArB3B,sBAA0B;MACxB,OAAO,KAAKC,GAAL,CAASC,OAAhB;IACD;;;WAED,uBAAiB;MACf,OAAO,KAAKC,kBAAL,CAAwBD,OAAxB,CAAiCE,WAAjC,EAAP;IACD;;;WAED,+BAAsBC,SAAtB,EAA0D;MACxD,OACE,KAAKP,KAAL,CAAWQ,WAAX,KAA2BD,SAAS,CAACC,WAArC,IACA,KAAKR,KAAL,CAAWS,YAAX,KAA4BF,SAAS,CAACE,YADtC,IAEA,KAAKT,KAAL,CAAWU,IAAX,KAAoBH,SAAS,CAACG,IAF9B,IAGA,KAAKV,KAAL,CAAWW,QAAX,KAAwBJ,SAAS,CAACI,QAHlC,IAIA,KAAKX,KAAL,CAAWE,CAAX,KAAiBK,SAAS,CAACL,CAJ3B,IAKA,KAAKF,KAAL,CAAWY,MAAX,KAAsBL,SAAS,CAACK,MALhC,IAMA,KAAKZ,KAAL,CAAWa,MAAX,KAAsBN,SAAS,CAACM,MANhC,IAOA,KAAKb,KAAL,CAAWc,WAAX,KAA2BP,SAAS,CAACO,WARvC;IAUD;;;WAID,kBAAS;MACP,kBAUI,KAAKd,KAVT;MAAA,IACEU,IADF,eACEA,IADF;MAAA,IAEER,CAFF,eAEEA,CAFF;MAAA,IAGEa,OAHF,eAGEA,OAHF;MAAA,IAIEN,YAJF,eAIEA,YAJF;MAAA,IAKED,WALF,eAKEA,WALF;MAAA,IAMEI,MANF,eAMEA,MANF;MAAA,IAOEC,MAPF,eAOEA,MAPF;MAAA,IAQEF,QARF,eAQEA,QARF;MAAA,IASEG,WATF,eASEA,WATF;MAYA,oBACE;QACE,GAAG,EAAE,KAAKX,GADZ;QAEE,KAAK,EAAE;UACLa,QAAQ,EAAEd,CAAC,IAAI,IAAL,GAAa,UAAb,GAAqC,UAD1C;UAELe,SAAS,EAAE,YAFN;UAGLC,IAAI,EAAE,KAHD;UAILC,KAAK,EAAE,KAJF;UAKLC,GAAG,EAAElB,CAAC,IAAI,IAAL,GAAY,KAAZ,aAAuBA,CAAvB,OALA;UAMLmB,YAAY,YAAKN,OAAL,OANP;UAOLH,MAAM,EACJV,CAAC,IAAI,IAAL,GACI,MADJ,aAGMM,WAAW,IAAII,MAAM,CAACU,IAAP,GAAcV,MAAM,CAACW,OAAzB,CAAX,GAA+CX,MAAM,CAACW,OAH5D,OARG;UAaLV,MAAM,EAANA;QAbK;MAFT,gBAkBE,oBAAC,6BAAD;QACE,GAAG,EAAE,KAAKR,kBADZ;QAEE,IAAI,EAAEK,IAFR;QAGE,QAAQ,EAAEC,QAHZ;QAIE,YAAY,EAAEF,YAJhB;QAKE,WAAW,EAAED,WALf;QAME,eAAe,EAAE,KAAKgB,gBANxB;QAOE,WAAW,EAAEV;MAPf,EAlBF,CADF;IA8BD;;;EAvEOhB,KAAK,CAAC2B,S"}